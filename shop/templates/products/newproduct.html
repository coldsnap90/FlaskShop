{% extends "layout.html" %}
{% include 'admin/adminnav.html' %}
{% block content %}


<!--==========END NAVBAR ==============-->

<div class="container-fluid mt-4">
    <div class="row">
      <div class = "col">
        <form method="post" enctype="multipart/form-data">
          <div class="container-fluid">
            <div class="row mt-3">
              <div class="col">
                  <div class="text-center bg-info p-2 h4">Add a product</div>
                  {% from "errors.html" import render_field %}
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                  {{form.hidden_tag()}}
              </div>
            </div>
            <div class = "row mt-3">
              <div class='col md-3'>
                    {{form.name.label}}
                    <br>
                    {{form.name}}
              </div>
              <div class='col md-3'> 
                    {{form.price.label}}
                    <br>
                    {{form.price}}
              </div>
              <div class='col md-3'>
                    {{form.discount.label}}
                    <br>
                    {{form.discount}}
              </div>
              <div class='col md-3'>
                    {{form.stock.label}}
                    <br>
                    {{form.stock}}
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                <div class="text-center bg-info p-2 h4">Add a Brand</div>
                {% from "errors.html" import render_field %}
              </div>
            </div>

            <div class = "row mt-3">
              <div class="col">
                    <select name="brand" id="brand" class="form-control" required>
                        {% if getproduct %}
                        <option value="{{getproduct.brand_id}}" style="display: none;">{{getproduct.brand.name}}</option>
                        {% for brand in brands %}
                        <option value="{{brand.id}}">{{brand.name}}</option>
                        {% endfor %}
                       {% else %}
                     <option value=""> Select A brand</option>
                     {% for brand in brands %}
                     <option value="{{brand.id}}">{{brand.name}}</option>
                     {% endfor %}
                     {% endif %}
                    </select>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                <div class="text-center bg-info p-2 h4">Add a Category</div>
                {% from "errors.html" import render_field %}
              </div>
            </div>

            <div class="row mt-3">
              <div class="col">
                    <select name="category" id="category" class="form-control" required>
                    {% if getproduct %}
                      <option value="{{getproduct.category_id}}" style="display: none;">{{getproduct.category.name}}</option>
                      {% for category in categories %}
                      <option value="{{category.id}}">{{category.name}}</option>
                      {% endfor %}
                     {% else %}
                     <option value=""> Select A category</option>
                     {% for category in categories %}
                     <option value="{{category.id}}">{{category.name}}</option>
                     {% endfor %}
                     {% endif %}
                    </select>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                <div class="text-center bg-info p-2 h4">Product Information</div>
                {% from "errors.html" import render_field %}
              </div>
            </div>
            <div class = "row mt-3">
              <div class="col">
                    {{form.colors.label}}
                    <br>
                    {{form.colors}}
              </div>
              <div class="col">
                    {{form.description.label}}
                    <br>
                    {{form.description}}
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                <div class="text-center bg-info p-2 h4">Photos</div>
                {% from "errors.html" import render_field %}
              </div>
            </div>

            <div class="row">
              {% if getproduct %}
              <div class="col">
                      
                        <div class="col-md-4"> <input type="file" name="image_1" id="image_1">
                            <a href="{{url_for('static',filename='images/' + getproduct.image_1)}}"> images/{{ getproduct.image_1}}</a>
                        </div>
              </div>
              <div class="col">
                        <div class="col-md-4"><input type="file" name="image_2" id="image_2"> 
                            <a href="{{url_for('static',filename='images/' + getproduct.image_2)}}">images/{{ getproduct.image_2}}</a>
                        </div>
              </div>
              <div class="col">
                        <div class="col-md-4"><input type="file" name="image_3" id="image_3"> 
                            <a href="{{url_for('static',filename='images/' + getproduct.image_3)}}"> image/{{ getproduct.image_3}}</a>
                        </div>
              </div>
                      
              {% else %}
              ELSE IMAGE
              <div class="col-md-4">{{form.image_1 }}</div>
                      
              <div class="col-md-4">{{form.image_2 }}</div>
                 
              <div class="col-md-4">{{ form.image_3 }}</div>
              {% endif %}
            </div>

            <div class="row mt-3">
              <div class="col text-center">
                <input type="submit" value="{% if getproduct %} Update {% else %} Add {% endif %} product" class="btn-outline-info">  
              </div>
            </div>
 
          </div>
        </form>

      </div>
    </div>
</div>

{% endblock content %}